(function(){function p(e,n,o,a,f){r[e]={box1:{},box2:{},corners:[[a+h,f+h],[a+l-c-h,f+h],[a+l-c-h,f+l-c-h],[a+h,f+l-c-h]]};r[e].box1={x:r[e].corners[0][0],y:r[e].corners[0][1]};r[e].box2={x:r[e].corners[2][0],y:r[e].corners[2][1]};setInterval(function(){t.fillStyle=n?s:i;t.fillRect(a,f,l,l);if(o){t.fillStyle=n?i:s;d(e,"box1",c);d(e,"box2",c)}},u)}function d(e,o,u){var a=r[e],f=a[o].x,l=a[o].y,c=a.corners;t.fillRect(f,l,u,u);if(n){t.font="13px";for(var h=0;h<c.length;h++)t.fillText(c[h][0]+", "+c[h][1],c[h][0],c[h][1]);t.fillStyle=isOdd?s:i;t.fillText("x: "+f,f+5,l+15);t.fillText("y: "+l,f+5,l+25)}f>=c[0][0]&&f<c[1][0]&&l==c[0][1]?a[o].x++:l>=c[1][1]&&l<c[2][1]&&f==c[1][0]?a[o].y++:f<=c[2][0]&&f>c[3][0]?a[o].x--:l<=c[3][1]&&l>c[0][1]&&a[o].y--}var e=document.getElementById("draw"),t=e.getContext("2d"),n=!1,r=[],i="#FFF",s="#000",o=.25,u=20,a=550,f=9,l=Math.round(a/f),c=Math.round(l*o),h=Math.round(c*o);(function(){e.width=a;e.height=a;var t=(f-1)/2,n=f*f,r=0,i=0;for(var s=0;s<n;s++){if(s%f===0){r++;i=0}p(s,s%2===0,r-1!==t||i!==t,Math.round(l*i),Math.round(l*(r-1)),l);i++}})()})();